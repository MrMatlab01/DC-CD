clc;
close all;

EbN0dB = -4:1:24;
EbN0lin = 10.^(EbN0dB/10);
index = 1;
m = 1:1:5;
M = 2.^m;

for i = M
    k = log2(i);
    berErr = 1/k * erfc(sqrt(EbN0lin*k) * sin(%pi/i));
    semilogy(EbN0dB, berErr, 'LineWidth', 1.5);
    index = index + 1;
    hold on;
end

legend('BPSK', 'QPSK', '8-PSK', '16-PSK', '32-PSK');
axis([-4 24 1e-8 1]);
xlabel('Eb/N0 (dB)');
ylabel('Probability of BER Error (Pb)');
title('Probability of BER Error (Pb) Vs Eb/N0');
grid on;
